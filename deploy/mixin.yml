# å®Œæ•´é…ç½®å‚è€ƒï¼šhttps://github.com/MetaCubeX/mihomo/blob/Meta/docs/config.yaml
# clash verge revå…¨å±€é…ç½®
dns:
  use-system-hosts: false
  enable: true
  ipv6: true
  use-hosts: true
  respect-rules: false # dnsæ ¹æ®rulesä»£ç†ï¼Œè®©ä»£ç†æœåŠ¡å™¨å¸®åŠ©èµ°nameserverã€fallback...
  enhanced-mode: fake-ip

  # é¢å¤–å…è®¸çš„ç‰¹æ®ŠDNSå†™æ³•
  # systemï¼šè¯»å–ç³»ç»Ÿçš„DNSï¼Œå¦‚æœç³»ç»Ÿä¸å­˜åœ¨åˆ™æŠ›å‡ºé”™è¯¯ä¸”è·³è¿‡
  # rcode: rcodeç”¨äºåº”ç”¨å‘èµ·DNSæŸ¥è¯¢æ—¶ç«‹å³è¿”å›ç›¸åº”ä»£ç ç»“æŸæŸ¥è¯¢ï¼Œå†™æ³•ï¼šrcode://successè¡¨ç¤ºä¸å»è¿›è¡ŒDNSæŸ¥è¯¢ï¼Œè§†æœ¬åœ°DNSè§£æå™¨ç¼“å­˜ä¸­å­˜åœ¨è¯¥åŸŸåï¼ˆğŸ’¡ä¸€èˆ¬æ‹¦æˆªå¹¿å‘Šç”¨ï¼‰
  default-nameserver: # å…œåº•nameserveråŸŸåæƒ…å†µ
    - 101.226.4.6 # 360
  proxy-server-nameserver: # ç”±ä»£ç†æœåŠ¡å™¨æŸ¥è¯¢dnsæ—¶ï¼ŒæŸ¥è¯¢ä»£ç†æœåŠ¡å™¨çš„dnsè§£æï¼ˆå¯¹äºæŸäº›ä»£ç†DNSä¼šè¢«ISPæ›´æ”¹ï¼Œæœ€å¥½ç”¨tls/ipï¼‰
    - tls://1.12.12.12 # é¿å…èµ°DNSæŸ¥è¯¢ï¼Œç›´æ¥TLS/IPä»£ç†ï¼Œé¿å…ä¸­é—´è·¯ç”±å™¨çš„åˆ†æ
  # ä¼˜å…ˆäºnameserver/fallbackè§„åˆ™
  nameserver-policy:
    # å›½å¤–ç½‘ç«™é¿å…DNSæ±¡æŸ“
    'geosite:gfw,greatfire': [1.1.1.1, 8.8.8.8] 
    'rule-set:gfw': [1.1.1.1, 8.8.8.8]
    'rule-set:daily-foreign': [1.1.1.1, 8.8.8.8]
    # å›½å†…èµ°å›½å†…å¿«é€Ÿè¿æ¥
    'geosite:cn': [119.29.29.29]
    'rule-set:icloud,apple,direct,applications': [119.29.29.29]
    # ğŸ’¡ rule-setè¦æ±‚ï¼šbehaviorå¿…é¡»ä¸ºdomain/classicalï¼Œä¸”ä»…ç”Ÿæ•ˆåŸŸåéƒ¨åˆ†ï¼ï¼ï¼
    # å¯¹äº"rule-providers"è§„åˆ™è¡¨ä¸­çš„"gfw"ä¸‹æ‰€æœ‰çš„åŸŸåå…¨éƒ¨èµ°æŒ‡å®šçš„DNS
    # 'geosite:geolocation-!cn': [1.1.1.1] # å¯¹äº"é"å›½å†…geosite
    # "geosite:category-ads-all": rcode://success # å¯¹äº"category-ads-all"è§„åˆ™DNSå…¨éƒ¨è¿”å›
  # é»˜è®¤DNS
  nameserver:
    - 202.103.44.150 # æ¹–åŒ—ç”µä¿¡DNS
    - 211.137.58.20 # æ¹–åŒ—ç§»åŠ¨DNS
    # - 101.226.4.6 # 360
    # - 119.29.29.29 # è…¾è®¯
  # å›½å¤–DNS
  fallback: 
    - 8.8.8.8
    - 1.1.1.1
  fallback-filter:
    geoip: true
    geoip-code: CN # å½“geoæ•°æ®æŸ¥è¯¢åŸŸåå±äºCNæ ‡è¯†æ—¶ï¼Œä¸ä½¿ç”¨fallbackè€Œæ˜¯ç”¨nameserver

# GEOç›¸å…³å†…å®¹é»˜è®¤é‡‡ç”¨ https://github.com/Loyalsoldierå¼€å‘çš„
  # https://github.com/Loyalsoldier/v2ray-rules-dat

# å‚è€ƒï¼šhttps://github.com/Loyalsoldier/clash-rules?tab=readme-ov-file
rule-providers:
  reject:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/reject.yaml
    interval: 86400

  icloud:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt"
    path: ./ruleset/icloud.yaml
    interval: 86400

  apple:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt"
    path: ./ruleset/apple.yaml
    interval: 86400

  google:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt"
    path: ./ruleset/google.yaml
    interval: 86400

  proxy:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt"
    path: ./ruleset/proxy.yaml
    interval: 86400

  direct:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"
    path: ./ruleset/direct.yaml
    interval: 86400

  private:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
    path: ./ruleset/private.yaml
    interval: 86400

  gfw:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"
    path: ./ruleset/gfw.yaml
    interval: 86400

  tld-not-cn:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt"
    path: ./ruleset/tld-not-cn.yaml
    interval: 86400

  telegramcidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt"
    path: ./ruleset/telegramcidr.yaml
    interval: 86400

  cncidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
    path: ./ruleset/cncidr.yaml
    interval: 86400

  lancidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
    path: ./ruleset/lancidr.yaml
    interval: 86400

  applications:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt"
    path: ./ruleset/applications.yaml
    interval: 86400

  # è‡ªå®šä¹‰çš„å¼€å‘ç›´è¿ç¯å¢ƒ
  dev-direct:
    type: http
    behavior: classical
    url: https://jybill.github.io/mihomo-config-rules/rule-set/dev-direct.yaml
    path: ./ruleset/dev-direct.yaml
    format: yaml
    interval: 86400

  daily-foreign:
    type: http
    behavior: classical
    url: https://jybill.github.io/mihomo-config-rules/rule-set/daily-foreign.yaml
    path: ./ruleset/daily-foreign.yaml
    format: yaml
    interval: 86400