# Actionæ“ä½œåç§°
name: CI

# æƒé™
permissions:
  contents: write

# è§¦å‘äº‹ä»¶
on:
  push:
    branches: [ "main" ] # é’ˆå¯¹mainåˆ†æ”¯
  pull_request:
    branches: [ "main" ]

  # å…è®¸æ‚¨ä»"Actions"é€‰é¡¹å¡æ‰‹åŠ¨è¿è¡Œæ­¤å·¥ä½œæµ
  workflow_dispatch:

# å·¥ä½œæµ
jobs:
  # ä»»åŠ¡"build"
  build:
    runs-on: ubuntu-latest # è¿è¡Œä½œä¸šçš„æœåŠ¡å™¨ç³»ç»Ÿ
    steps: # è¿è¡Œä½œä¸šçš„æœåŠ¡å™¨ç³»ç»Ÿ
      - uses: actions/checkout@v4 # Actionæ’ä»¶(v4ç‰ˆæœ¬)ï¼šå°†ä»“åº“çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯è¢«è®¿é—®

      # éƒ¨ç½²æ­¥éª¤
      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          folder: deploy # ä»“åº“å†…éœ€è¦éƒ¨ç½²çš„ç›®å½•ï¼Œä¸”ä¸ä¼šéƒ¨ç½²`.gitignore`å†…çš„æ–‡ä»¶
          branch: deploy # éƒ¨ç½²åˆ°deployåˆ†æ”¯
          commit-message: "deploy: push config or rules through action"